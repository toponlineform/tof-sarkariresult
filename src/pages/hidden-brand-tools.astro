---
// src/pages/hidden-brand-tools.astro
// ðŸ”’ SECRET PAGE FOR BRAND ASSETS GENERATION
import Layout from '../layouts/Layout.astro';
---

<Layout title="Brand Asset Generator">
  <div class="tool-container">
    <h1 class="page-title">ðŸŽ¨ Brand Asset Generator</h1>
    <p class="instruction">Tap on text to edit. Click button to download.</p>

    <div class="section">
      <h2>1. WhatsApp/Telegram DP</h2>
      <div class="preview-box">
        <div id="wa-dp" class="dp-circle wa-style">
          <div class="news-badge" contenteditable="true">Daily Updates</div>
          <div class="big-text-1" contenteditable="true">SARKARI</div>
          <div class="big-text-2" contenteditable="true">NAUKRI</div>
          <div class="brand-sub">Top Online Form</div>
        </div>
      </div>
      <button onclick="downloadImage('wa-dp', 'Whatsapp_DP')">ðŸ“¥ Download WA DP</button>
    </div>

    <div class="section">
      <h2>2. X (Twitter) DP</h2>
      <div class="preview-box">
        <div id="x-dp" class="dp-circle x-style">
          <div class="seal-border">
            <div class="t-wrapper">
              <div class="t-top"><div class="dot"></div><div class="dot"></div><div class="dot"></div></div>
              <div class="stem"></div>
            </div>
            <div class="dp-scan-line"></div>
            <div class="dp-brand-text">Top Online Form</div>
          </div>
        </div>
      </div>
      <button onclick="downloadImage('x-dp', 'X_DP')">ðŸ“¥ Download X DP</button>
    </div>

    <div class="section">
      <h2>3. X Banner (1500x500)</h2>
      <div class="preview-box scroll-x">
        <div id="x-banner" class="x-banner">
          <div class="bg-pattern"></div>
          <div class="banner-scan"></div>
          <div class="banner-left"></div>
          <div class="banner-content">
            <div class="banner-badge" contenteditable="true">Fastest Updates</div>
            <div class="banner-title" contenteditable="true">GOVT JOBS<br>& RESULTS</div>
            <div class="banner-subtitle" contenteditable="true">Admit Card â€¢ Answer Key â€¢ Schemes</div>
            <div class="banner-url">TopOnlineForm.com</div>
          </div>
        </div>
      </div>
      <button onclick="downloadImage('x-banner', 'X_Banner')">ðŸ“¥ Download Banner</button>
    </div>

  </div>
</Layout>

<script is:inline src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

<script is:inline>
  function downloadImage(id, filename) {
    const element = document.getElementById(id);
    // Button text change for feedback
    const btn = event.target;
    const oldText = btn.innerText;
    btn.innerText = "Generating... â³";

    html2canvas(element, {
      scale: 2, // High Quality
      backgroundColor: null,
      useCORS: true
    }).then(canvas => {
      const link = document.createElement('a');
      link.download = filename + '.png';
      link.href = canvas.toDataURL('image/png');
      link.click();
      btn.innerText = oldText; // Reset text
    });
  }
</script>

<style>
  /* --- PAGE STYLING --- */
  .tool-container {
    background-color: #111;
    color: white;
    min-height: 100vh;
    padding: 20px;
    font-family: 'Segoe UI', sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  .page-title { color: #facc15; margin-bottom: 5px; text-align: center; }
  .instruction { color: #888; margin-bottom: 30px; text-align: center; font-size: 14px; }
  
  .section {
    margin-bottom: 50px;
    display: flex; flex-direction: column; align-items: center;
    width: 100%;
  }
  h2 { font-size: 18px; color: #ccc; margin-bottom: 15px; }
  
  button {
    margin-top: 15px;
    padding: 12px 30px;
    background: #dc2626;
    color: white;
    border: none;
    border-radius: 50px;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    box-shadow: 0 4px 10px rgba(220, 38, 38, 0.4);
  }

  /* --- PREVIEW BOX (Mobile Responsive) --- */
  .preview-box {
    padding: 10px;
    border: 1px dashed #444;
    border-radius: 10px;
    display: flex;
    justify-content: center;
    overflow: hidden;
    max-width: 100%;
  }
  
  /* Scroll allow for Banner on mobile */
  .scroll-x { overflow-x: auto; justify-content: flex-start; }

  /* ===========================
     WHATSAPP DP STYLES
     =========================== */
  .wa-style {
    width: 300px; height: 300px; /* Mobile Friendly Size */
    background-color: #dc2626; border-radius: 50%;
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    border: 8px solid white;
    position: relative;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
  }
  .news-badge {
    background: white; color: #dc2626; padding: 5px 15px; border-radius: 50px;
    font-size: 14px; font-weight: 800; text-transform: uppercase; margin-bottom: 10px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2); outline: none;
  }
  .big-text-1 { font-size: 45px; font-weight: 900; color: white; line-height: 0.9; outline: none; }
  .big-text-2 { font-size: 45px; font-weight: 900; color: #facc15; line-height: 0.9; margin-bottom: 10px; outline: none; }
  .brand-sub { font-size: 12px; font-weight: 700; color: white; letter-spacing: 2px; opacity: 0.9; text-transform: uppercase; border-top: 1px solid rgba(255,255,255,0.3); padding-top: 5px; }

  /* ===========================
     X DP STYLES
     =========================== */
  .x-style {
    width: 300px; height: 300px;
    background-color: #dc2626; border-radius: 50%;
    display: flex; justify-content: center; align-items: center;
    border: 8px solid white;
    position: relative;
  }
  .seal-border {
    width: 260px; height: 260px; border: 3px dashed rgba(255,255,255,0.4); border-radius: 50%;
    display: flex; flex-direction: column; justify-content: center; align-items: center;
  }
  .t-wrapper { display: flex; flex-direction: column; align-items: center; gap: 8px; margin-bottom: 15px; }
  .t-top { display: flex; gap: 8px; }
  .dot { width: 25px; height: 25px; background-color: white; border-radius: 4px; }
  .stem { width: 25px; height: 60px; background-color: white; border-radius: 4px; }
  .dp-scan-line {
    width: 140px; height: 6px; background-color: #facc15; border-radius: 10px;
    position: absolute; top: 45%; box-shadow: 0 0 20px rgba(250, 204, 21, 0.8);
  }
  .dp-brand-text { font-size: 20px; font-weight: 900; color: white; text-transform: uppercase; letter-spacing: 1px; margin-top: 5px; }

  /* ===========================
     X BANNER STYLES
     =========================== */
  .x-banner {
    /* Fixed Size for High Quality Export */
    min-width: 1000px; height: 333px; 
    background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
    display: flex; position: relative; overflow: hidden;
    /* Zoom out for mobile preview */
    transform-origin: top left;
    transform: scale(0.32); /* Phone screen pe fit karne ke liye chota kiya */
    margin-bottom: -220px; /* Space fix after scaling */
    margin-right: -680px;
  }
  
  /* Desktop styles override for cleaner look on PC */
  @media (min-width: 768px) {
    .x-banner { transform: scale(0.6); margin-bottom: -130px; margin-right: -400px; }
  }

  .bg-pattern {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background-image: radial-gradient(rgba(255,255,255,0.1) 1px, transparent 1px); background-size: 30px 30px;
  }
  .banner-left { width: 30%; }
  .banner-content { width: 70%; display: flex; flex-direction: column; justify-content: center; padding-left: 30px; }
  
  .banner-badge {
    background-color: #facc15; color: #991b1b; font-weight: 800; font-size: 18px;
    padding: 5px 20px; border-radius: 6px; width: fit-content; margin-bottom: 15px; text-transform: uppercase; outline: none;
  }
  .banner-title { font-size: 65px; font-weight: 900; color: white; line-height: 0.9; text-transform: uppercase; outline: none; }
  .banner-subtitle { font-size: 22px; color: rgba(255,255,255,0.9); margin-top: 15px; font-weight: 500; outline: none;}
  .banner-url {
    margin-top: 25px; font-size: 20px; color: white; font-family: monospace;
    background: rgba(0,0,0,0.2); padding: 8px 20px; border-radius: 8px; width: fit-content; border: 2px solid rgba(255,255,255,0.3);
  }
  .banner-scan {
    position: absolute; right: -50px; top: -50px; width: 250px; height: 250px;
    border: 30px solid rgba(255,255,255,0.05); border-radius: 40px; transform: rotate(15deg);
  }

</style>
