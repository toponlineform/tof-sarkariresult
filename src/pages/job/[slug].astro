---
import Layout from '../../layouts/Layout.astro';

// --------------------------------------------------------
// 1. DATA CENTER: Jobs ki List
// --------------------------------------------------------
export async function getStaticPaths() {
  const jobs = [
    {
      slug: 'up-police-constable-2025', 
      title: 'UP Police Constable Recruitment 2025',
      postName: 'Constable (Civil Police)',
      totalPost: '60,244 Posts',
      salary: '₹21,700 - ₹69,100 Level-3',
      startDate: '15/01/2025',
      lastDate: '15/02/2025',
      fees: 'Gen/OBC: ₹400 | SC/ST: ₹400',
      ageLimit: '18-25 Years',
      eligibility: '10+2 (Intermediate) Exam Passed.',
      applyLink: 'https://uppbpb.gov.in',
      notificationLink: '#'
    },
    {
      slug: 'ssc-gd-constable-2025',
      title: 'SSC GD Constable Online Form 2025',
      postName: 'GD Constable (BSF, CISF, CRPF)',
      totalPost: '26,146 Posts',
      salary: '₹21,700 - ₹69,100',
      startDate: '24/11/2024',
      lastDate: '31/12/2024',
      fees: 'Gen/OBC: ₹100 | SC/ST: ₹0',
      ageLimit: '18-23 Years',
      eligibility: 'Class 10th (Matric) Exam Passed.',
      applyLink: 'https://ssc.nic.in',
      notificationLink: '#'
    }
  ];

  return jobs.map((job) => ({
    params: { slug: job.slug },
    props: { job },
  }));
}

const { job } = Astro.props;
---

<Layout title={job.title} description={`Apply Online for ${job.title}. Check Age Limit, Fees, Eligibility and Exam Date.`}>
  
  <article class="bg-white p-4 md:p-6 rounded-lg shadow-md border border-gray-200">
    
    <h1 class="text-2xl md:text-3xl font-extrabold text-red-700 text-center mb-2">{job.title}</h1>
    <p class="text-center text-gray-500 text-sm mb-6">Last Updated: {new Date().toLocaleDateString()}</p>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
      <div class="border border-red-200 rounded p-3 bg-red-50">
        <h3 class="text-red-700 font-bold text-lg mb-2">Important Dates</h3>
        <ul class="text-sm space-y-1">
          <li>Start Date: <b>{job.startDate}</b></li>
          <li>Last Date: <b>{job.lastDate}</b></li>
          <li>Exam Date: <b>Notify Soon</b></li>
        </ul>
      </div>
      <div class="border border-blue-200 rounded p-3 bg-blue-50">
        <h3 class="text-blue-700 font-bold text-lg mb-2">Application Fee</h3>
        <p class="text-sm font-medium">{job.fees}</p>
        <p class="text-xs text-gray-500 mt-1">Pay via Debit Card / Net Banking</p>
      </div>
    </div>

    <h2 class="bg-gray-800 text-white p-2 font-bold text-center rounded-t">Vacancy Details</h2>
    <div class="overflow-x-auto mb-6">
      <table class="w-full border-collapse border border-gray-300 text-sm md:text-base">
        <tbody>
          <tr class="bg-gray-100">
            <th class="border p-2 w-1/3 text-left">Post Name</th>
            <td class="border p-2">{job.postName}</td>
          </tr>
          <tr>
            <th class="border p-2 text-left">Total Post</th>
            <td class="border p-2 font-bold text-green-700">{job.totalPost}</td>
          </tr>
          <tr class="bg-gray-100">
            <th class="border p-2 text-left">Eligibility</th>
            <td class="border p-2">{job.eligibility}</td>
          </tr>
          <tr>
            <th class="border p-2 text-left">Age Limit</th>
            <td class="border p-2">{job.ageLimit}</td>
          </tr>
          <tr class="bg-gray-100">
            <th class="border p-2 text-left">Salary</th>
            <td class="border p-2">{job.salary}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <h2 class="text-xl font-bold text-red-700 mb-4 border-b-2 border-red-200 inline-block">Important Links</h2>
    <div class="flex flex-col md:flex-row gap-3 mb-8">
      <a href={job.applyLink} target="_blank" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded text-center flex-1 shadow">
        Apply Online
      </a>
      <a href={job.notificationLink} class="bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded text-center flex-1 shadow">
        Download Notification
      </a>
    </div>

    <div class="bg-gray-50 p-4 rounded border border-gray-200 mt-6">
        <h3 class="text-xl font-bold mb-4 text-gray-800">Frequently Asked Questions (FAQ)</h3>
        
        <details class="mb-2 bg-white p-3 rounded shadow-sm group">
            <summary class="font-semibold cursor-pointer text-blue-800 list-none flex justify-between items-center">
                What is the last date to apply?
                <span class="text-gray-400 group-open:rotate-180 transition">▼</span>
            </summary>
            <p class="mt-2 text-sm text-gray-600">The last date to apply for {job.title} is <b>{job.lastDate}</b>.</p>
        </details>

        <details class="mb-2 bg-white p-3 rounded shadow-sm group">
            <summary class="font-semibold cursor-pointer text-blue-800 list-none flex justify-between items-center">
                What is the age limit?
                <span class="text-gray-400 group-open:rotate-180 transition">▼</span>
            </summary>
            <p class="mt-2 text-sm text-gray-600">The age limit is <b>{job.ageLimit}</b>. Check notification for relaxation details.</p>
        </details>

        <details class="mb-2 bg-white p-3 rounded shadow-sm group">
            <summary class="font-semibold cursor-pointer text-blue-800 list-none flex justify-between items-center">
                How to Apply?
                <span class="text-gray-400 group-open:rotate-180 transition">▼</span>
            </summary>
            <p class="mt-2 text-sm text-gray-600">You can apply online through the official website link provided in the "Important Links" section above.</p>
        </details>
    </div>

  </article>

  <script type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org/",
    "@graph": [
      {
        "@type": "JobPosting",
        "title": job.title,
        "description": `Job Vacancy for ${job.postName}. Eligibility: ${job.eligibility}`,
        "datePosted": new Date().toISOString().split('T')[0],
        "validThrough": "2025-12-31", 
        "employmentType": "FULL_TIME",
        "hiringOrganization": {
          "@type": "Organization",
          "name": "Top Online Form",
          "sameAs": "https://toponlineform.com"
        },
        "baseSalary": {
          "@type": "MonetaryAmount",
          "currency": "INR",
          "value": {
            "@type": "QuantitativeValue",
            "value": job.salary,
            "unitText": "MONTH"
          }
        },
        "jobLocation": {
            "@type": "Place",
            "address": {
                "@type": "PostalAddress",
                "addressCountry": "IN"
            }
        }
      },
      {
        "@type": "FAQPage",
        "mainEntity": [{
          "@type": "Question",
          "name": `What is the last date to apply for ${job.title}?`,
          "acceptedAnswer": {
            "@type": "Answer",
            "text": `The last date to apply is ${job.lastDate}.`
          }
        }, {
          "@type": "Question",
          "name": "What is the age limit?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": `The age limit required is ${job.ageLimit}.`
          }
        }]
      }
    ]
  })} />

</Layout>
