---
import Layout from '../../layouts/Layout.astro';
import AdSlot from '../../components/AdSlot.astro';

const title = "Simple Resume Builder - Free Bio-Data Maker for Govt Jobs";
const description = "Create a clean, professional Resume/Bio-Data for interviews. A4 format, Print-friendly, No watermark.";
---

<Layout title={title} description={description}>
  
  <div class="max-w-7xl mx-auto px-4 py-8">
      
    {/* Page Header (Website UI) */}
    <div class="text-center mb-8 no-print">
        <h1 class="text-3xl font-bold text-gray-800">Simple Resume Builder</h1>
        <p class="text-gray-500">Fill details and Click Print/Download</p>
    </div>

    {/* Top Ad */}
    <div class="mb-6 no-print">
      <AdSlot type="horizontal" />
    </div>

    {/* RESUME BUILDER CONTAINER (User's CSS Logic) */}
    <div class="resume-container">
        
        {/* 1. EDITOR SECTION (Left) */}
        <div class="editor-section no-print">
            <div class="section-title">
                <span>Enter Details</span>
                <button onclick="window.print()" style="background:#2563eb; color:white; border:none; padding:5px 15px; border-radius:4px; cursor:pointer; font-size:14px;">
                    üñ®Ô∏è Download PDF
                </button>
            </div>

            <form id="resumeForm">
                <div class="form-group">
                    <label>Full Name</label>
                    <input type="text" id="inName" placeholder="Your Name" />
                </div>
                <div class="form-group">
                    <label>Job Title</label>
                    <input type="text" id="inJob" placeholder="e.g. Data Entry Operator" />
                </div>
                
                <div class="form-group">
                    <label>Contact Info</label>
                    <input type="text" id="inPhone" placeholder="Phone Number" style="margin-bottom:5px;" />
                    <input type="text" id="inEmail" placeholder="Email Address" style="margin-bottom:5px;" />
                    <input type="text" id="inAddress" placeholder="City, State" />
                </div>

                <div class="form-group">
                    <label>Professional Summary</label>
                    <textarea id="inSummary" rows="4" placeholder="Write 2-3 lines about yourself..."></textarea>
                </div>

                <div class="section-title">Experience</div>
                <div class="form-group">
                    <label>Recent Job</label>
                    <input type="text" id="inExpRole" placeholder="Job Role / Position" style="margin-bottom:5px;" />
                    <input type="text" id="inExpComp" placeholder="Company Name | Duration" style="margin-bottom:5px;" />
                    <textarea id="inExpDesc" rows="3" placeholder="Job Responsibilities..."></textarea>
                </div>

                <div class="section-title">Education</div>
                <div class="form-group">
                    <label>Highest Qualification</label>
                    <input type="text" id="inEdu1" placeholder="Degree Name" style="margin-bottom:5px;" />
                    <input type="text" id="inCollege1" placeholder="University / College" style="margin-bottom:5px;" />
                    <input type="text" id="inYear1" placeholder="Year" />
                </div>
                <div class="form-group">
                    <label>12th / Diploma</label>
                    <input type="text" id="inEdu2" placeholder="Course Name" style="margin-bottom:5px;" />
                    <input type="text" id="inCollege2" placeholder="School / Board" style="margin-bottom:5px;" />
                    <input type="text" id="inYear2" placeholder="Year" />
                </div>

                <div class="section-title">Skills</div>
                <div class="form-group">
                    <label>Skills (Comma Separated)</label>
                    <textarea id="inSkills" rows="3" placeholder="Typing, Excel, Hindi, English..."></textarea>
                </div>
            </form>

            {/* Bottom Ad inside Editor */}
            <div style="margin-top: 20px; padding-top: 10px; border-top: 1px solid #eee;">
                <AdSlot type="square" />
            </div>
        </div>

        {/* 2. PREVIEW SECTION (Right) */}
        <div class="preview-section resume-preview-area">
            
            {/* THE A4 PAPER */}
            <div class="resume-paper" id="resumeToPrint">
                
                {/* Header */}
                <div class="res-header">
                    <h1 class="res-name" id="outName">YOUR NAME</h1>
                    <p style="font-size: 18px; color: #555;" id="outJob">Job Title</p>
                    
                    <div class="res-contact">
                        <span id="outPhone">üìû +91 9876543210</span>
                        <span id="outEmail">‚úâÔ∏è email@example.com</span>
                        <span id="outAddress">üìç New Delhi, India</span>
                    </div>
                </div>

                {/* Summary */}
                <div style="margin-bottom: 20px;">
                    <div class="res-section-head">Profile Summary</div>
                    <p id="outSummary" style="font-size: 14px; text-align: justify;">
                        A focused professional looking for opportunities to use my skills for the growth of the organization.
                    </p>
                </div>

                {/* Experience */}
                <div style="margin-bottom: 20px;">
                    <div class="res-section-head">Work Experience</div>
                    
                    <div class="res-item">
                        <div class="res-item-title" id="outExpRole">Job Position</div>
                        <div class="res-item-subtitle">
                            <span id="outExpComp">Company Name | Years</span>
                        </div>
                        <p id="outExpDesc" class="res-list">
                            - Managed daily tasks and operations.
                        </p>
                    </div>
                </div>

                {/* Education */}
                <div style="margin-bottom: 20px;">
                    <div class="res-section-head">Education</div>
                    
                    <div class="res-item">
                        <div class="res-item-title" id="outEdu1">Degree Name</div>
                        <div class="res-item-subtitle">
                            <span id="outCollege1">University Name</span>
                            <span id="outYear1">2024</span>
                        </div>
                    </div>

                    <div class="res-item">
                        <div class="res-item-title" id="outEdu2">12th Class</div>
                        <div class="res-item-subtitle">
                            <span id="outCollege2">School Board</span>
                            <span id="outYear2">2020</span>
                        </div>
                    </div>
                </div>

                {/* Skills */}
                <div>
                    <div class="res-section-head">Key Skills</div>
                    <div class="res-skills" id="outSkills">
                        <span class="res-skill-tag">Typing</span>
                        <span class="res-skill-tag">Computer</span>
                    </div>
                </div>

                {/* Declaration (Standard Indian Bio-Data Format) */}
                <div style="margin-top: 50px; border-top: 1px dashed #ccc; padding-top: 10px;">
                    <p style="font-size: 12px; font-style: italic; color: #666;">
                        I hereby declare that the information provided above is true to the best of my knowledge.
                    </p>
                    <div style="display: flex; justify-content: space-between; margin-top: 30px; font-size: 14px; font-weight: bold;">
                        <span>Date: ____________</span>
                        <span>Signature: ____________</span>
                    </div>
                </div>

            </div>
        </div>
    </div>

  </div>

  {/* üëá YOUR EXACT CSS (NO CHANGES) */}
  <style is:global>
    /* Print Logic - Isse PDF ekdum perfect A4 size aayega */
    @media print {
      body * {
        visibility: hidden;
      }
      .resume-preview-area, .resume-preview-area * {
        visibility: visible;
      }
      .resume-preview-area {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        margin: 0;
        padding: 0;
        box-shadow: none !important;
        border: none !important;
      }
      .no-print {
        display: none !important;
      }
    }

    /* Screen Logic */
    .resume-container {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    .editor-section {
      flex: 1;
      min-width: 350px;
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.05);
      height: fit-content;
    }

    .preview-section {
      flex: 1.5;
      min-width: 350px;
      display: flex;
      justify-content: center;
    }

    /* A4 Paper Look */
    .resume-paper {
      width: 210mm;
      min-height: 297mm;
      background: white;
      padding: 40px;
      box-shadow: 0 0 20px rgba(0,0,0,0.1);
      color: #333;
      line-height: 1.5;
    }

    /* Form Styles */
    .form-group {
      margin-bottom: 15px;
    }
    .form-group label {
      display: block;
      font-weight: 600;
      margin-bottom: 5px;
      font-size: 14px;
    }
    .form-group input, .form-group textarea {
      width: 100%;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-size: 14px;
    }
    .section-title {
      font-size: 18px;
      font-weight: bold;
      margin-top: 20px;
      margin-bottom: 15px;
      border-bottom: 2px solid #eee;
      padding-bottom: 5px;
      display: flex;
      justify-content: space-between;
    }

    /* Resume Template Design */
    .res-header {
      border-bottom: 2px solid;
      padding-bottom: 15px;
      margin-bottom: 20px;
    }
    .res-name {
      font-size: 32px;
      font-weight: 800;
      text-transform: uppercase;
      margin: 0;
    }
    .res-contact {
      font-size: 14px;
      margin-top: 5px;
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
    }
    .res-section-head {
      font-size: 16px;
      font-weight: bold;
      text-transform: uppercase;
      border-bottom: 1px solid #ccc;
      margin-top: 20px;
      margin-bottom: 10px;
      padding-bottom: 2px;
      letter-spacing: 1px;
    }
    .res-item {
      margin-bottom: 12px;
    }
    .res-item-title {
      font-weight: bold;
      font-size: 16px;
    }
    .res-item-subtitle {
      font-style: italic;
      font-size: 14px;
      color: #555;
      display: flex;
      justify-content: space-between;
    }
    .res-list {
      padding-left: 20px;
      margin-top: 5px;
      font-size: 14px;
    }
    .res-skills {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    .res-skill-tag {
      background: #f0f0f0;
      padding: 4px 10px;
      border-radius: 4px;
      font-size: 13px;
      font-weight: 500;
    }
  </style>

  {/* JAVASCRIPT LOGIC */}
  <script>
      // Helper function to update text
      function linkInput(inputId, outputId, defaultText) {
          const input = document.getElementById(inputId);
          const output = document.getElementById(outputId);
          if (input && output) {
              input.addEventListener('input', () => {
                  output.innerText = input.value || defaultText;
              });
          }
      }

      // Link Fields
      linkInput('inName', 'outName', 'YOUR NAME');
      linkInput('inJob', 'outJob', 'Job Title');
      linkInput('inPhone', 'outPhone', '+91 9876543210');
      linkInput('inEmail', 'outEmail', 'email@example.com');
      linkInput('inAddress', 'outAddress', 'New Delhi, India');
      linkInput('inSummary', 'outSummary', 'Write summary...');
      
      linkInput('inExpRole', 'outExpRole', 'Job Position');
      linkInput('inExpComp', 'outExpComp', 'Company Name | Years');
      linkInput('inExpDesc', 'outExpDesc', '- Job responsibilities...');

      linkInput('inEdu1', 'outEdu1', 'Degree Name');
      linkInput('inCollege1', 'outCollege1', 'University Name');
      linkInput('inYear1', 'outYear1', 'Year');
      
      linkInput('inEdu2', 'outEdu2', '12th Class');
      linkInput('inCollege2', 'outCollege2', 'School Name');
      linkInput('inYear2', 'outYear2', 'Year');

      // Skills Logic (Comma Separated -> Tags)
      const inSkills = document.getElementById('inSkills');
      const outSkills = document.getElementById('outSkills');

      inSkills.addEventListener('input', () => {
          const skillsArray = inSkills.value.split(',');
          outSkills.innerHTML = '';
          skillsArray.forEach(skill => {
              if(skill.trim() !== "") {
                  const span = document.createElement('span');
                  span.className = 'res-skill-tag'; // Using your exact CSS class
                  span.innerText = skill.trim();
                  outSkills.appendChild(span);
              }
          });
      });
  </script>

</Layout>
